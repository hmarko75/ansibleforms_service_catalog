general:
  aiqum: aiqum.demo.netapp.com

networks:
  vlan-1: #should correlate to the name of broadcast domain names on the controllers 
    #iprange: 192.168.0.[30-100],192.168.0.101,192.168.0.112,192.168.0.141,192.168.0.192,192.168.0.[111-115]
    iprange: 1.1.1.[1-20]
    subnetmask: 255.255.255.0
    gateway: 192.168.0.1
  
  vlan-2: #should correlate to the name of broadcast domain names on the controllers
    iprange: 10.1.2.[30-35],10.1.2.240
    subnetmask: 255.255.255.0
    gateway: 10.1.2.254

domains:
  demo.netapp.com:
    dnsservers: ['192.168.0.253']
    adou: CN=Computers
    adusername: DEMO\adminsitrator

# services list
services:
  NAS:  # service
    Company 1: #company
      Production: #environemnt 
        Site A: #site 
          prod:  #prodcution copy
            newsvm: 
              network: 
                name: vlan-1
                domain: demo.netapp.com 
                lifcount: 4
                lif_auto_revert: true
                dnszone: true
              allowed_protocols: ['cifs','nfs','iscsi','nvme']
              protocols:
                cifs:
                  enabled: true 
                  v1.0: true
                  v2.0: true
                  v3.0: true
                  domain: demo.netapp.com
                nfs:
                  enabled: true 
                  v3.0: true 
                  v4.0: true 
                  v4.1: true 
              language: he.utf_8
              root_volume_security_style: ntfs

            clusters:
              - cluster1: [nas1]
#                cluster2: []   

            snapshotpolicy:
              name: sp
              dynamicschedule: true
              schedule: ['daily','weekly']
              prefix: ['daily','weekly']              
              count: [24,4]
              snapmirror_label: ['daily','weekly']
            efficiency:
              enable_compression: true 
              enable_cross_volume_background_dedupe: true
              enable_cross_volume_inline_dedupe: true
              enable_data_compaction: true
              enable_inline_compression: true
              enable_inline_dedupe: true
              schedule: daily 
              dynamicschedule: true
              duration: 3
            cifsaccess: false

          # dr1:  #optional dr1 copy 
          #   sizeratio: 1.5
          #   volnamesuffix: "_dr1"

          #   newsvm:
          #     suffix: "_dr1"
          #     network: 
          #       name: vlan-1
          #       domain: demo.netapp.com 
          #       lifcount: 4
          #       dnszone: true

          #     protocols:
          #       cifs:
          #         enabled: true 
          #         domain: demo.netapp.com
          #       nfs:
          #         enabled: true 
          #         v3.0: true 
          #         v4.0: true 
          #         v4.1: true 
          #       iscsi:
          #         enabled: false
          #       fcp:
          #         enabled: false

          #   fixed_relationship_for_prod:
          #     cluster1_nas1: 
          #       cluster: cluster1
          #       svm: nas1_dr1

          #   clusters:
          #     - cluster1: [svm1]
          #       cluster2: [svm4]
            
          #   source:
          #     copy: prod
          #     policy: 
          #       name: MirrorAllSnapshots
          #     dynamicschedule: true
          #     schedule: daily

          dr2: #optional dr copy 
            sizeratio: 1.5
            volnamesuffix: "_dr2"

            newsvm:
              suffix: "_dr2"
              network: 
                name: vlan-1
                domain: demo.netapp.com 
                lifcount: 4
                dnszone: true

              protocols:
                cifs:
                  enabled: true 
                  domain: demo.netapp.com
                nfs:
                  enabled: true 
                  v3.0: true 
                  v4.0: true 
                  v4.1: true 
                iscsi:
                  enabled: false
                fcp:
                  enabled: false

            fixed_relationship_for_prod:
              cluster1_nas1: 
                cluster: cluster1
                svm: nas1_dr2            
            clusters:
              - cluster2: [svm3]              
            source:
              copy: prod
              policy: 
                name: MirrorAllSnapshots
              dynamicschedule: true
              schedule: daily

          b2d1:  #optional b2d copy 
            sizeratio: 2.5
            volnamesuffix: ""    

            newsvm:
              suffix: "_b2d1"
              network: 
                name: vlan-1
                domain: demo.netapp.com 
                lifcount: 4
                dnszone: true

              protocols:
                cifs:
                  enabled: true 
                  domain: demo.netapp.com
                nfs:
                  enabled: true 
                  v3.0: true 
                  v4.0: true 
                  v4.1: true 
                iscsi:
                  enabled: false
                fcp:
                  enabled: false

            fixed_relationship_for_prod:
              cluster1_nas1: 
                cluster: cluster1
                svm: nas1_b2d1                    
            clusters:
              - cluster2: [svm9]
            source:
              copy: prod
              policy:
                name: 90daily
                snapmirror_label: ['daily']
                keep: [90]
                policy_type: async_mirror
              dynamicschedule: true
              schedule: daily         

          b2d2:   #optional b2d copy
            sizeratio: 2.5
            volnamesuffix: ""

            newsvm:
              suffix: "_b2d2"
              network: 
                name: vlan-1
                domain: demo.netapp.com 
                lifcount: 2
                dnszone: true

              protocols:
                cifs:
                  enabled: true 
                  domain: demo.netapp.com
                nfs:
                  enabled: true 
                  v3.0: true 
                  v4.0: true 
                  v4.1: true 
                iscsi:
                  enabled: false
                fcp:
                  enabled: false

            fixed_relationship_for_prod:
              cluster1_nas1: 
                cluster: cluster1
                svm: nas1_b2d2                   
            clusters:
              - cluster2: [svm10]     

            source:
              copy: prod
              policy:
                name: 120daily
                snapmirror_label: ['daily']
                keep: [120]
                policy_type: async_mirror
              dynamicschedule: true
              schedule: daily                


# volume properties 
# Ensure the properties you want to apply to the selected object are not in the comments.
VolumeDefaults:
    defualt_junction_path: "/"
    size_unit: "gb"
    percent_snapshot_space: 0

    dynamic:
      #total num for dynamic scheules 
      total_schedules: 10
      #for dynamic policies choose random suffix requires schedules to be created on all involved clusters 
      prod_snapshot_policy_range_start: 5
      prod_snapshot_policy_range_end: 9

      #efficiency policy offset from prod daily snapshot start 
      prod_efficiency_policy_offet: -3
      prod_efficiency_policy_duation: 3

      #replication offset production snapshot policy 
      replication_schedule_offset:
        dr1: 1
        dr2: 2
        b2d1: 3
        b2d2: 4

    auto_size:
      mode: grow_shrink
      vol_max_size_ratio: 1.2
      vol_min_size_ratio: 1
      grow_threshold_percent: 95
      shrink_threshold_percent: 85

    auto_size_b2d:
      mode: grow_shrink
      vol_max_size_ratio: 2
      vol_min_size_ratio: 1
      grow_threshold_percent: 95
      shrink_threshold_percent: 85
    
    cifsaccess:
      user_or_group: "DEMO\\administrator"
      access:  "full_control"
      